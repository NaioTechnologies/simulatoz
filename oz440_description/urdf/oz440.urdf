<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from oz440.xacro                    | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- Fichier principal de construction du robot -->
<robot name="oz440" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <gazebo reference="chassis">
    <material>Gazebo/White</material>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/oz440</robotNamespace>
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_side_drive.so" name="side_drive_controller">
      <robotNamespace>/oz440</robotNamespace>
      <leftFrontJoint>front_left_wheel_hinge</leftFrontJoint>
      <leftRearJoint>back_left_wheel_hinge</leftRearJoint>
      <rightFrontJoint>front_right_wheel_hinge</rightFrontJoint>
      <rightRearJoint>back_right_wheel_hinge</rightRearJoint>
      <wheelSeparation>0.29761</wheelSeparation>
      <wheelDiameter>0.3092</wheelDiameter>
      <torque>500</torque>
      <commandTopic>/oz440/cmd_vel</commandTopic>
      <updateRate>20</updateRate>
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_actuator.so" name="actuator_controller">
      <robotNamespace>/oz440</robotNamespace>
      <Joint>actuator_base_link_to_actuator_part1_joint</Joint>
      <commandTopic>/oz440/cmd_act</commandTopic>
      <torque>500</torque>
    </plugin>
  </gazebo>
  <!-- attribution de la couleur pour le porte outils -->
  <gazebo reference="actuator">
    <material>Gazebo/Green</material>
  </gazebo>
  <!-- attribution de la couleur pour l'IMU -->
  <gazebo reference="IMU">
    <material>Gazebo/Green</material>
  </gazebo>
  <!-- attribution de la couleur pour le bumper -->
  <gazebo reference="bumper_link">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- plugin pour la camera stereo -->
  <gazebo reference="camera_stereo_link">
    <sensor name="stereo_camera" type="multicamera">
      <update_rate>20</update_rate>
      <camera name="left">
        <pose>0 0.05 0 0 0 0</pose>
        <horizontal_fov>1.63555623712896 </horizontal_fov>
        <image>
          <width>752</width>
          <height>480</height>
          <format>BAYER_GBRG8</format>
        </image>
        <clip>
          <near>0.02</near>
          <far>300</far>
        </clip>
        <distortion>
          <k1>-0.25</k1>
          <k2>0.12</k2>
          <k3>0.0</k3>
          <p1>-0.00028</p1>
          <p2>-0.00005</p2>
          <center>0.5 0.5</center>
        </distortion>
      </camera>
      <camera name="right">
        <pose>0 -0.05 0 0 0 0</pose>
        <horizontal_fov>1.63555623712896 </horizontal_fov>
        <image>
          <width>752</width>
          <height>480</height>
          <format>BAYER_GBRG8</format>
        </image>
        <clip>
          <near>0.02</near>
          <far>300</far>
        </clip>
        <distortion>
          <k1>-0.25</k1>
          <k2>0.12</k2>
          <k3>0.0</k3>
          <p1>-0.00028</p1>
          <p2>-0.00005</p2>
          <center>0.5 0.5</center>
        </distortion>
        <!--<distortion>-->
        <!--<k1>0.9</k1>-->
        <!--<k2>0.3291</k2>-->
        <!--<k3>0.23518</k3>-->
        <!--<p1>0.002938</p1>-->
        <!--<p2>-0.00088</p2>-->
        <!--<center>0.5 0.5</center>-->
        <!--</distortion>-->
        <!--<noise>-->
        <!--<type>gaussian</type>-->
        <!--<mean>0.0</mean>-->
        <!--<stddev>0.007</stddev>-->
        <!--</noise>-->
      </camera>
      <plugin filename="libgazebo_ros_multicamera.so" name="stereo_camera_controller">
        <alwaysOn>true</alwaysOn>
        <updateRate>0.0</updateRate>
        <cameraName>oz440/camera</cameraName>
        <imageTopicName>image_raw</imageTopicName>
        <cameraInfoTopicName>camera_info</cameraInfoTopicName>
        <frameName>camera_stereo_link</frameName>
        <!--<rightFrameName>right_camera_optical_frame</rightFrameName>-->
        <!--<hackBaseline>0.1</hackBaseline>-->
        <!--<distortionK1>0.000023</distortionK1>-->
        <!--<distortionK2>0.025979</distortionK2>-->
        <!--<distortionK3>0.039371</distortionK3>-->
        <!--<distortionT1>0.001139</distortionT1>-->
        <!--<distortionT2>-0.002029</distortionT2>-->
      </plugin>
    </sensor>
  </gazebo>
  <!-- plugin pour le lidar -->
  <gazebo reference="lidar_link">
    <sensor name="lidar" type="gpu_ray">
      <pose>0 0 0 0 0 0</pose>
      <visualize>true</visualize>
      <update_rate>20</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>271</samples>
            <resolution>1</resolution>
            <min_angle>-2.35619</min_angle>
            <max_angle>2.35619</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.06</min>
          <max>3.5</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <!-- Noise parameters based on published spec for Hokuyo laser
                         achieving "+-30mm" accuracy at range < 10m.  A mean of 0.0m and
                         stddev of 0.01m will put 99.7% of samples within 0.03m of the true
                         reading. -->
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_gpu_laser.so" name="gazebo_lidar_controller">
        <alwaysOn>true</alwaysOn>
        <topicName>/oz440/laser/scan</topicName>
        <frameName>lidar_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <!-- plugin pour l'IMU  -->
  <gazebo>
    <plugin filename="libhector_gazebo_ros_imu.so" name="imu_controller">
      <robotNamespace>/oz440/</robotNamespace>
      <updateRate>50.0</updateRate>
      <bodyName>IMU_link</bodyName>
      <topicName>imu/data</topicName>
      <accelDrift>0.0005 0.0005 0.0005</accelDrift>
      <accelGaussianNoise>0.005 0.005 0.005</accelGaussianNoise>
      <rateDrift>0.0005 0.0005 0.0005 </rateDrift>
      <rateGaussianNoise>0.005 0.005 0.005 </rateGaussianNoise>
      <headingDrift>0.0005</headingDrift>
      <headingGaussianNoise>0.0005</headingGaussianNoise>
    </plugin>
  </gazebo>
  <!-- plugin pour le GPS -->
  <gazebo>
    <plugin filename="libhector_gazebo_ros_gps.so" name="gps_controller">
      <updateRate>1</updateRate>
      <robotNamespace>/oz440/</robotNamespace>
      <bodyName>IMU_link</bodyName>
      <topicName>navsat/fix</topicName>
      <velocityTopicName>navsat/vel</velocityTopicName>
      <referenceLatitude>43.5195488</referenceLatitude>
      <referenceLongitude>1.5361782 </referenceLongitude>
      <referenceHeading>0</referenceHeading>
      <referenceAltitude>152</referenceAltitude>
      <drift>0.0001 0.0001 0.0001</drift>
    </plugin>
  </gazebo>
  <!-- macro pour l'outils -->
  <!--<xacro:macro name="tool_macro" params="parent">-->
  <!--<link name="tool1">-->
  <!--<inertial>-->
  <!--<origin xyz="-0.25 0 -0.22" rpy="0 0 0" />-->
  <!--<mass value="4"/>-->
  <!--<sphere_inertia m="${4}" r="${0.04}"/>-->
  <!--</inertial>-->
  <!--<gravity>1</gravity>-->
  <!--<collision name="sphere">-->
  <!--<origin xyz="-0.25 0 -0.22" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<sphere radius="0.03"/>-->
  <!--</geometry>-->
  <!--</collision>-->
  <!--<visual>-->
  <!--<origin xyz="-0.25 0 -0.22" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<sphere radius="0.03"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--<visual>-->
  <!--<origin xyz="-0.125 0 -0.075" rpy="0 1.03 0"/>-->
  <!--<geometry>-->
  <!--<cylinder radius="0.007" length="0.30"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--<visual>-->
  <!--<origin xyz="-0.25 0 -0.18" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<cylinder radius="0.007" length="0.065"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--</link>-->
  <!--<link name="tool2">-->
  <!--<inertial>-->
  <!--<origin xyz="-0.25 -0.2 -0.22" rpy="0 0 0" />-->
  <!--<mass value="4"/>-->
  <!--<sphere_inertia m="${4}" r="${0.04}"/>-->
  <!--</inertial>-->
  <!--<gravity>1</gravity>-->
  <!--<collision name="sphere">-->
  <!--<origin xyz="-0.25 0 -0.22" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<sphere radius="0.03"/>-->
  <!--</geometry>-->
  <!--</collision>-->
  <!--<visual>-->
  <!--<origin xyz="-0.25 0 -0.22" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<sphere radius="0.03"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--<visual>-->
  <!--<origin xyz="-0.125 0 -0.075" rpy="0 1.03 0"/>-->
  <!--<geometry>-->
  <!--<cylinder radius="0.007" length="0.29"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--<visual>-->
  <!--<origin xyz="-0.25 0 -0.18" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<cylinder radius="0.007" length="0.065"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--</link>-->
  <!--<link name="tool3">-->
  <!--<inertial>-->
  <!--<origin xyz="-0.25 0 -0.22" rpy="0 0 0" />-->
  <!--<mass value="4"/>-->
  <!--<sphere_inertia m="${4}" r="${0.04}"/>-->
  <!--</inertial>-->
  <!--<gravity>1</gravity>-->
  <!--<collision name="sphere">-->
  <!--<origin xyz="-0.25 0 -0.22" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<sphere radius="0.03"/>-->
  <!--</geometry>-->
  <!--</collision>-->
  <!--<visual>-->
  <!--<origin xyz="-0.25 0 -0.22" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<sphere radius="0.03"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--<visual>-->
  <!--<origin xyz="-0.125 0 -0.075" rpy="0 1.03 0"/>-->
  <!--<geometry>-->
  <!--<cylinder radius="0.007" length="0.29"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--<visual>-->
  <!--<origin xyz="-0.25 0 -0.18" rpy="0 0 0"/>-->
  <!--<geometry>-->
  <!--<cylinder radius="0.007" length="0.065"/>-->
  <!--</geometry>-->
  <!--</visual>-->
  <!--</link>-->
  <!--<gazebo reference="tool1">-->
  <!--<mu1 value="0.99"/>-->
  <!--<mu2 value="0.99"/>-->
  <!--<kp  value="1e+6" />-->
  <!--<kd  value="1.0" />-->
  <!--<fdir1 value="0 0 0"/>-->
  <!--<material> Gazebo/Grey </material>-->
  <!--</gazebo>-->
  <!--<gazebo reference="tool2">-->
  <!--<mu1 value="0.99"/>-->
  <!--<mu2 value="0.99"/>-->
  <!--<kp  value="1e+6" />-->
  <!--<kd  value="1.0" />-->
  <!--<fdir1 value="0 0 0"/>-->
  <!--<material> Gazebo/Grey </material>-->
  <!--</gazebo>-->
  <!--<gazebo reference="tool3">-->
  <!--<mu1 value="0.99"/>-->
  <!--<mu2 value="0.99"/>-->
  <!--<kp  value="1e+6" />-->
  <!--<kd  value="1.0" />-->
  <!--<fdir1 value="0 0 0"/>-->
  <!--<material> Gazebo/Grey </material>-->
  <!--</gazebo>-->
  <!--<joint name="tool1_to_actuator_part_21" type="fixed">-->
  <!--<parent link="actuator_part21_link"/>-->
  <!--<child link="tool1"/>-->
  <!--<origin rpy="0 0 ${-actuator_part2_Height/2}" xyz="0 0 0"/>-->
  <!--</joint>-->
  <!--<joint name="tool2_to_actuator_part_22" type="fixed">-->
  <!--<parent link="actuator_part22_link"/>-->
  <!--<child link="tool2"/>-->
  <!--<origin rpy="0 0 ${-actuator_part2_Height/2}" xyz="0 0 0"/>-->
  <!--</joint>-->
  <!--<joint name="tool3_to_actuator_part_23" type="fixed">-->
  <!--<parent link="actuator_part23_link"/>-->
  <!--<child link="tool3"/>-->
  <!--<origin rpy="0 0 ${-actuator_part2_Height/2}" xyz="0 0 0"/>-->
  <!--</joint>-->
  <!--</xacro:macro>-->
  <!-- link de base, OBLIGATOIRE -->
  <link name="footprint"/>
  <!-- link pour la partie basse du chassis -->
  <link name="chassis_bottom">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.67454 0.2 0.243"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.67454 0.2 0.243"/>
      </geometry>
      <material name="white"/>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="30"/>
      <inertia ixx="0.2476225" ixy="0" ixz="0" iyy="1.285133029" iyz="0" izz="1.285133029"/>
    </inertial>
  </link>
  <!--&lt;!&ndash; joint liant footprint a la partie basse du chassis &ndash;&gt;-->
  <joint name="footprint_to_chassis_bottom_joint" type="fixed">
    <parent link="footprint"/>
    <child link="chassis_bottom"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- link pour la partie haute du chassis -->
  <link name="chassis_top">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.67454 0.41389 0.22"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.67454 0.41389 0.22"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="70"/>
      <inertia ixx="1.28161210392" ixy="0" ixz="0" iyy="2.93652456767" iyz="0" izz="2.93652456767"/>
    </inertial>
  </link>
  <!-- joint liant les deux partie du chassis -->
  <joint name="chassis_bottom_to_chassis_top" type="fixed">
    <parent link="chassis_bottom"/>
    <child link="chassis_top"/>
    <origin rpy="0 0 0" xyz="0 0 0.2315"/>
  </joint>
  <link name="actuator_base_link">
    <inertial>
      <mass value="1"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.00416666666667" ixy="0" ixz="0" iyy="0.00346666666667" iyz="0" izz="0.00346666666667"/>
    </inertial>
    <collision name="collision_actuator">
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.04 0.1 0.2"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.04 0.1 0.2"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="actuator_base_link">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material> Gazebo/white </material>
  </gazebo>
  <link name="actuator_part1_link">
    <inertial>
      <mass value="0.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.00710833333333" ixy="0" ixz="0" iyy="0.000208333333333" iyz="0" izz="0.000208333333333"/>
    </inertial>
    <collision name="collision_actuator">
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.41 0.05"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.41 0.05"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="actuator_part1_link">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material>Gazebo/Green</material>
  </gazebo>
  <link name="actuator_part21_link">
    <inertial>
      <mass value="0.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000117708333333" ixy="0" ixz="0" iyy="0.000117708333333" iyz="0" izz="0.000117708333333"/>
    </inertial>
    <collision name="collision_actuator">
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.035 0.035 0.04"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.035 0.035 0.04"/>
      </geometry>
    </visual>
  </link>
  <link name="actuator_part22_link">
    <inertial>
      <mass value="0.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000117708333333" ixy="0" ixz="0" iyy="0.000117708333333" iyz="0" izz="0.000117708333333"/>
    </inertial>
    <collision name="collision_actuator">
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.035 0.035 0.04"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.035 0.035 0.04"/>
      </geometry>
    </visual>
  </link>
  <link name="actuator_part23_link">
    <inertial>
      <mass value="0.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000117708333333" ixy="0" ixz="0" iyy="0.000117708333333" iyz="0" izz="0.000117708333333"/>
    </inertial>
    <collision name="collision_actuator">
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.035 0.035 0.04"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.035 0.035 0.04"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="actuator_part21_link">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material>Gazebo/Green</material>
  </gazebo>
  <gazebo reference="actuator_part22_link">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material>Gazebo/Green</material>
  </gazebo>
  <gazebo reference="actuator_part23_link">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material>Gazebo/Green</material>
  </gazebo>
  <joint name="chassis_bottom_to_actuator_base_joint" type="fixed">
    <parent link="chassis_bottom"/>
    <child link="actuator_base_link"/>
    <origin rpy="0 0 0" xyz="-0.36727 0 0.1215"/>
  </joint>
  <joint name="actuator_base_link_to_actuator_part1_joint" type="prismatic">
    <parent link="actuator_base_link"/>
    <child link="actuator_part1_link"/>
    <origin rpy="0 0 0" xyz="-0.045 0 0.1"/>
    <axis rpy="0 0 0" xyz="0 0 1"/>
    <limit effort="100" lower="-0.15" upper="0" velocity="1"/>
    <dynamics damping="0.7" friction="0.98"/>
  </joint>
  <transmission name="actuator_base_link_to_actuator_part1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="actuator_base_link_to_actuator_part1_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="actuator_base_link_to_actuator_part1_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalRedu.ction>46</mechanicalRedu.ction>
    </actuator>
  </transmission>
  <joint name="actuator_part1_to_actuator_part21_joint" type="fixed">
    <parent link="actuator_part1_link"/>
    <child link="actuator_part21_link"/>
    <origin rpy="0 0 0" xyz="0 0 -0.045"/>
  </joint>
  <joint name="actuator_part1_to_actuator_part22_joint" type="fixed">
    <parent link="actuator_part1_link"/>
    <child link="actuator_part22_link"/>
    <origin rpy="0 0 0" xyz="0 -0.18 -0.045"/>
  </joint>
  <joint name="actuator_part1_to_actuator_part23_joint" type="fixed">
    <parent link="actuator_part1_link"/>
    <child link="actuator_part23_link"/>
    <origin rpy="0 0 0" xyz="0 0.18 -0.045"/>
  </joint>
  <tool_macro parent="actuator_part2_link"/>
  <link name="front_right_wheel">
    <collision>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <!--<origin xyz="${wheel_diameter/2} -${wheel_width/2} -${wheel_diameter/2}" rpy="0 0 ${PI/2}" />-->
      <geometry>
        <cylinder length="0.08761" radius="0.1546"/>
        <!--<mesh filename="model://Wheel/pneu.dae" scale ="0.001 0.001 0.001" />-->
      </geometry>
    </collision>
    <visual>
      <!--<origin xyz="0 0 0" rpy="0 ${PI/2} ${PI/2}" />-->
      <origin rpy="0 0 1.57079632679" xyz="0.1546 -0.043805 -0.1546"/>
      <geometry>
        <!--<cylinder length="${wheel_width}" radius="${wheel_diameter/2}"/>-->
        <mesh filename="model://Wheel/pneu.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <mass value="3"/>
      <inertia ixx="0.019844748025" ixy="0" ixz="0" iyy="0.019844748025" iyz="0" izz="0.03585174"/>
    </inertial>
  </link>
  <gazebo reference="front_right_wheel">
    <gravity>true</gravity>
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <joint name="front_right_wheel_hinge" type="continuous">
    <parent link="chassis_bottom"/>
    <child link="front_right_wheel"/>
    <origin rpy="0 0 0" xyz="0.2175 -0.153805 -0.0635"/>
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <transmission name="front_right_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="front_right_wheel_hinge">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="front_right_Motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalRedu.ction>46</mechanicalRedu.ction>
    </actuator>
  </transmission>
  <link name="front_left_wheel">
    <collision>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <!--<origin xyz="${wheel_diameter/2} -${wheel_width/2} -${wheel_diameter/2}" rpy="0 0 ${PI/2}" />-->
      <geometry>
        <cylinder length="0.08761" radius="0.1546"/>
        <!--<mesh filename="model://Wheel/pneu.dae" scale ="0.001 0.001 0.001" />-->
      </geometry>
    </collision>
    <visual>
      <!--<origin xyz="0 0 0" rpy="0 ${PI/2} ${PI/2}" />-->
      <origin rpy="0 0 1.57079632679" xyz="0.1546 -0.043805 -0.1546"/>
      <geometry>
        <!--<cylinder length="${wheel_width}" radius="${wheel_diameter/2}"/>-->
        <mesh filename="model://Wheel/pneu.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <mass value="3"/>
      <inertia ixx="0.019844748025" ixy="0" ixz="0" iyy="0.019844748025" iyz="0" izz="0.03585174"/>
    </inertial>
  </link>
  <gazebo reference="front_left_wheel">
    <gravity>true</gravity>
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <joint name="front_left_wheel_hinge" type="continuous">
    <parent link="chassis_bottom"/>
    <child link="front_left_wheel"/>
    <origin rpy="0 0 0" xyz="0.2175 0.153805 -0.0635"/>
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <transmission name="front_left_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="front_left_wheel_hinge">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="front_left_Motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalRedu.ction>46</mechanicalRedu.ction>
    </actuator>
  </transmission>
  <link name="back_right_wheel">
    <collision>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <!--<origin xyz="${wheel_diameter/2} -${wheel_width/2} -${wheel_diameter/2}" rpy="0 0 ${PI/2}" />-->
      <geometry>
        <cylinder length="0.08761" radius="0.1546"/>
        <!--<mesh filename="model://Wheel/pneu.dae" scale ="0.001 0.001 0.001" />-->
      </geometry>
    </collision>
    <visual>
      <!--<origin xyz="0 0 0" rpy="0 ${PI/2} ${PI/2}" />-->
      <origin rpy="0 0 1.57079632679" xyz="0.1546 -0.043805 -0.1546"/>
      <geometry>
        <!--<cylinder length="${wheel_width}" radius="${wheel_diameter/2}"/>-->
        <mesh filename="model://Wheel/pneu.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <mass value="3"/>
      <inertia ixx="0.019844748025" ixy="0" ixz="0" iyy="0.019844748025" iyz="0" izz="0.03585174"/>
    </inertial>
  </link>
  <gazebo reference="back_right_wheel">
    <gravity>true</gravity>
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <joint name="back_right_wheel_hinge" type="continuous">
    <parent link="chassis_bottom"/>
    <child link="back_right_wheel"/>
    <origin rpy="0 0 0" xyz="-0.2175 -0.153805 -0.0635"/>
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <transmission name="back_right_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="back_right_wheel_hinge">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="back_right_Motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalRedu.ction>46</mechanicalRedu.ction>
    </actuator>
  </transmission>
  <link name="back_left_wheel">
    <collision>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <!--<origin xyz="${wheel_diameter/2} -${wheel_width/2} -${wheel_diameter/2}" rpy="0 0 ${PI/2}" />-->
      <geometry>
        <cylinder length="0.08761" radius="0.1546"/>
        <!--<mesh filename="model://Wheel/pneu.dae" scale ="0.001 0.001 0.001" />-->
      </geometry>
    </collision>
    <visual>
      <!--<origin xyz="0 0 0" rpy="0 ${PI/2} ${PI/2}" />-->
      <origin rpy="0 0 1.57079632679" xyz="0.1546 -0.043805 -0.1546"/>
      <geometry>
        <!--<cylinder length="${wheel_width}" radius="${wheel_diameter/2}"/>-->
        <mesh filename="model://Wheel/pneu.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <mass value="3"/>
      <inertia ixx="0.019844748025" ixy="0" ixz="0" iyy="0.019844748025" iyz="0" izz="0.03585174"/>
    </inertial>
  </link>
  <gazebo reference="back_left_wheel">
    <gravity>true</gravity>
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <joint name="back_left_wheel_hinge" type="continuous">
    <parent link="chassis_bottom"/>
    <child link="back_left_wheel"/>
    <origin rpy="0 0 0" xyz="-0.2175 0.153805 -0.0635"/>
    <axis rpy="0 0 0" xyz="0 1 0"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <transmission name="back_left_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="back_left_wheel_hinge">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="back_left_Motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalRedu.ction>46</mechanicalRedu.ction>
    </actuator>
  </transmission>
  <link name="front_right_center">
    <visual>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.06761" radius="0.0773"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <mass value="1.5"/>
      <inertia ixx="0.0032001727625" ixy="0" ixz="0" iyy="0.0032001727625" iyz="0" izz="0.0044814675"/>
    </inertial>
  </link>
  <gazebo reference="front_right_center">
    <gravity>true</gravity>
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <material>Gazebo/Grey</material>
  </gazebo>
  <joint name="front_right_wheel_to_wheel_center" type="fixed">
    <parent link="front_right_wheel"/>
    <child link="front_right_center"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="front_left_center">
    <visual>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.06761" radius="0.0773"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <mass value="1.5"/>
      <inertia ixx="0.0032001727625" ixy="0" ixz="0" iyy="0.0032001727625" iyz="0" izz="0.0044814675"/>
    </inertial>
  </link>
  <gazebo reference="front_left_center">
    <gravity>true</gravity>
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <material>Gazebo/Grey</material>
  </gazebo>
  <joint name="front_left_wheel_to_wheel_center" type="fixed">
    <parent link="front_left_wheel"/>
    <child link="front_left_center"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="back_right_center">
    <visual>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.06761" radius="0.0773"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <mass value="1.5"/>
      <inertia ixx="0.0032001727625" ixy="0" ixz="0" iyy="0.0032001727625" iyz="0" izz="0.0044814675"/>
    </inertial>
  </link>
  <gazebo reference="back_right_center">
    <gravity>true</gravity>
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <material>Gazebo/Grey</material>
  </gazebo>
  <joint name="back_right_wheel_to_wheel_center" type="fixed">
    <parent link="back_right_wheel"/>
    <child link="back_right_center"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="back_left_center">
    <visual>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.06761" radius="0.0773"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0 0"/>
      <mass value="1.5"/>
      <inertia ixx="0.0032001727625" ixy="0" ixz="0" iyy="0.0032001727625" iyz="0" izz="0.0044814675"/>
    </inertial>
  </link>
  <gazebo reference="back_left_center">
    <gravity>true</gravity>
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <material>Gazebo/Grey</material>
  </gazebo>
  <joint name="back_left_wheel_to_wheel_center" type="fixed">
    <parent link="back_left_wheel"/>
    <child link="back_left_center"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="camera_stereo_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.075 0.16 0.05"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.075 0.16 0.05"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000370833333333" ixy="0" ixz="0" iyy="0.000338541666667" iyz="0" izz="0.000338541666667"/>
    </inertial>
  </link>
  <gazebo reference="camera_stereo_link">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material>Gazebo/Grey</material>
  </gazebo>
  <joint name="chassis_top_to_camera_stereo" type="fixed">
    <parent link="chassis_bottom"/>
    <child link="camera_stereo_link"/>
    <origin rpy="0 0.349065850399 0" xyz="0.37477 0 0.22564"/>
  </joint>
  <link name="lidar_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.06855 0.124 0.106"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.06855 0.124 0.106"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.00110883333333" ixy="0" ixz="0" iyy="0.000663962604167" iyz="0" izz="0.000663962604167"/>
    </inertial>
  </link>
  <joint name="chassis_bottom_to_lidar" type="fixed">
    <parent link="chassis_bottom"/>
    <child link="lidar_link"/>
    <origin rpy="0 0 0" xyz="0.371545 0 -0.08322"/>
  </joint>
  <link name="IMU_base_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 0.07 0.1"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 0.07 0.1"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000620833333333" ixy="0" ixz="0" iyy="0.000433333333333" iyz="0" izz="0.000433333333333"/>
    </inertial>
  </link>
  <gazebo reference="IMU_base_link">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material>Gazebo/Green</material>
  </gazebo>
  <link name="IMU_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.1 0.05"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.1 0.05"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000208333333333" ixy="0" ixz="0" iyy="8.33333333333e-05" iyz="0" izz="8.33333333333e-05"/>
    </inertial>
  </link>
  <gazebo reference="IMU_link">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material>Gazebo/Grey</material>
  </gazebo>
  <link name="IMU_light">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.01" radius="0.01"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.01" radius="0.01"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.1"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="4e-06" ixy="0" ixz="0" iyy="4e-06" iyz="0" izz="4e-06"/>
    </inertial>
  </link>
  <gazebo reference="IMU_light">
    <mu1 value="0.99"/>
    <mu2 value="0.99"/>
    <kp value="1e+7"/>
    <kd value="1.0"/>
    <fdir1 value="0 0 0"/>
    <material>Gazebo/Red</material>
  </gazebo>
  <joint name="actuator_base_to_IMU_base_joint" type="fixed">
    <parent link="actuator_base_link"/>
    <child link="IMU_base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.15"/>
  </joint>
  <joint name="IMU_base_to_IMU_joint" type="fixed">
    <parent link="IMU_base_link"/>
    <child link="IMU_link"/>
    <origin rpy="0 0 0" xyz="-0.015 0 0.075"/>
  </joint>
  <joint name="IMU_to_IMU_light" type="fixed">
    <parent link="IMU_link"/>
    <child link="IMU_light"/>
    <origin rpy="0 0 0" xyz="0 -0.03 0.03"/>
  </joint>
  <link name="bumper_base_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.13 0.1734 0.02"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.13 0.1734 0.02"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000761689" ixy="0" ixz="0" iyy="0.0004325" iyz="0" izz="0.0004325"/>
    </inertial>
  </link>
  <link name="bumper_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.04 0.41 0.02"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.04 0.41 0.02"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.00280833333333" ixy="0" ixz="0" iyy="3.33333333333e-05" iyz="0" izz="3.33333333333e-05"/>
    </inertial>
  </link>
  <joint name="chassis_top_to_bumper_base_joint" type="fixed">
    <parent link="chassis_top"/>
    <child link="bumper_base_link"/>
    <origin rpy="0 0.698131700798 0" xyz="0.40227 0 -0.11"/>
  </joint>
  <joint name="bumper_base_to_bumper_joint" type="fixed">
    <parent link="bumper_base_link"/>
    <child link="bumper_link"/>
    <origin rpy="0 0 0" xyz="0.085 0 0"/>
  </joint>
</robot>

